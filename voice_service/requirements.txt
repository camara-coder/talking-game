# Core Framework
fastapi>=0.115.0
uvicorn[standard]>=0.32.0
pydantic>=2.10.0
pydantic-settings>=2.0.0
python-multipart>=0.0.9
websockets>=14.1

# Audio Processing
sounddevice>=0.5.1
soundfile>=0.12.1
numpy>=1.26.0
scipy>=1.14.0
# webrtcvad>=2.0.10  # Legacy energy-based VAD (replaced by Silero VAD)
torch>=2.0.0  # CPU-only; install with: pip install torch --index-url https://download.pytorch.org/whl/cpu
silero-vad>=5.1
noisereduce>=3.0.0  # Server-side noise reduction (runs before VAD and STT)
# Note: Audio conversion uses ffmpeg directly (no Python package needed)

# Speech-to-Text (select via STT_ENGINE env var)
# Moonshine — lightweight CPU-optimized STT (default)
moonshine-voice>=1.0.0
# Canary-Qwen-2.5B — high-accuracy STT, requires NeMo (set STT_ENGINE=canary-qwen)
nemo_toolkit[asr,tts] @ git+https://github.com/NVIDIA/NeMo.git
# faster-whisper>=1.1.0  # Local STT (alternative)
# openai>=2.0.0  # OpenAI Whisper API (alternative)

# LLM Client
requests>=2.32.0
httpx>=0.28.0

# TTS - ElevenLabs (legacy)
elevenlabs>=1.0.0

# TTS (select via TTS_ENGINE env var)
# Pocket-TTS — ultra-lightweight 100M-param CPU TTS (default)
pocket-tts>=0.1.0
# Qwen3-TTS — higher quality but heavier TTS (set TTS_ENGINE=qwen3)
qwen-tts>=0.1.0

# TTS - Alternative options (commented out)
# kokoro-onnx>=0.4.9  # Kokoro TTS with ONNX runtime (local, CPU-intensive)
# pyttsx3>=2.90  # Windows TTS (for local dev)
# edge-tts>=6.1.9  # Microsoft Edge TTS (for cloud deployment)
# comtypes>=1.4.0  # Required for pyttsx3 on Windows

# Utilities
python-dotenv>=1.0.0
aiofiles>=24.1.0

# Testing
pytest>=8.3.0
pytest-asyncio>=0.24.0

# Database - PostgreSQL Persistence
sqlalchemy[asyncio]>=2.0.25
asyncpg>=0.29.0
alembic>=1.13.0
psycopg2-binary>=2.9.9
